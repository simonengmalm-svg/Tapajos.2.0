<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>TAPAJOS ‚Äì Det roliga fastighetsbolaget</title>
  <link rel="stylesheet" href="style.css"/>
  <style>
    html, body { margin:0; background:#0b1a44; color:#fff; }
    .splash { min-height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; }
    .title { font-size:1.5em; font-weight:bold; margin-top:1rem; }
    .sub { margin-bottom:1rem; }
    button { padding:10px 18px; border-radius:8px; cursor:pointer; }

    /* Fix: l√•t splash inte blocka klick */
    #splash { pointer-events:none; }
    #splash * { pointer-events:auto; }

    #startBtn {
      background:#ffd500;
      border:none;
      font-weight:bold;
    }
    #openHS {
      background:#0b1a44;
      border:2px solid #fff;
      color:#fff;
    }
  </style>
</head>
<body>

  <!-- Splash -->
  <div class="splash" id="splash">
    <img src="assets/mascot.png" alt="Maskot" style="max-width:180px"/>
    <div class="title">TAPAJOS ‚Äì Det roliga fastighetsbolaget</div>
    <div class="sub">Bygg, f√∂rvalta och g√∂r vinst p√• 15 √•r</div>
    <p>Exploiten √§r st√§ngd. Systemet har anpassats. Version 1.1 √§r inte l√§ngre ett l√§tt byte ‚Äì klarar du dig i den nya spelplanen?</p>

    <div style="display:grid;gap:10px;max-width:300px;width:100%;margin-top:1rem;">
      <label>Namn
        <input id="startName" placeholder="Ditt namn" style="width:100%"/>
      </label>
      <label>F√∂retag
        <input id="startCompany" placeholder="F√∂retag (valfritt)" style="width:100%"/>
      </label>
      <label style="display:flex;gap:6px;align-items:center;">
        <input id="rememberProfile" type="checkbox" checked/>
        <span>Kom ih√•g mig p√• den h√§r enheten</span>
      </label>
    </div>

    <div style="display:flex;gap:10px;margin-top:1rem;">
      <button id="startBtn" type="button"
        onclick="(window.startGame||function(){
          document.getElementById('splash').style.display='none';
          document.getElementById('appWrap').style.display='block';
          console.warn('[fallback] startGame saknas ‚Äì visade appen √§nd√•');
        })()">
        Starta spelet
      </button>
      <button id="openHS" type="button" onclick="window.openHSModal?.()">Highscore üèÜ</button>
    </div>
  </div>

  <!-- Sj√§lva appen -->
  <div id="appWrap" style="display:none;padding:1rem;">
    <div class="topbar">
      <h2>Spelet k√∂rs nu üéâ</h2>
      <p>Kassa: <span id="cash">10 000 000</span> kr</p>
      <p>Skuld: <span id="debtTop">0</span> kr</p>
      <p>√Ör: <span id="yearNow">1</span> / 15</p>
      <p>Marknad: <span id="market">1.00√ó</span></p>
      <p>R√§nta: <span id="rate">3.0</span>%</p>
    </div>
    <div>
      <h3>Mina fastigheter</h3>
      <div id="props"></div>
    </div>
  </div>

  <script type="module" src="./src/game.js"></script>
</body>
</html>
